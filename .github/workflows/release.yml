# This is a basic workflow to help you get started with Actions

name: Release

# Controls when the workflow will run
on:
  # Triggers the workflow on push or pull request events but only for the main branch
#  push:
#    tags:
#      - "*"
#  release:
#    types:
#      - created
  schedule:
    - cron: '*/5 * * * *'
#    - cron: '45 15 * * MON'

### MAC ONLY ###

# today=$(date +%d)
# tm=$(cal -h | awk '/^S/{s=index($0,"Mo")} substr($0,s,2)~/[ 1-3][0-9]/{i++} i==3{print substr($0,s,2)}')
# if [ "$today" = "$tm" ]
# then
#   echo "It is the third Monday of the week."
# fi

# -or-

# tm=$(date -v1d -v+mon -v+2w +%d)

### UBUNTU ONLY ###

# if [ "$((($(date +%e) - 1) / 7 + 1))" = "3" ] && [ "$(date +%A)" = "Monday" ]
# then
#   echo "It is the third Monday of the month."
# fi

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  # This workflow contains a single job called "build"
  release:
    # The type of runner that the job will run on
    runs-on: ubuntu-latest

    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:
      # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
      - uses: actions/checkout@v2
      # Runs a single command using the runners shell
      - name: script
        run: |
          if [ "$((($(date +%e) - 1) / 7 + 1))" = "3" ] && [ "$(date +%A)" = "Wednesday" ]
          then
            echo "It is the third Monday of the month."
          fi
